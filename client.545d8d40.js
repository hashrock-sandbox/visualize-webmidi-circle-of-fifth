webpackJsonp([1],{11:function(e,t,n){n(12),e.exports=n(17)},12:function(e,t,n){window.Promise||(window.Promise=n(13)),Object.assign=n(16)},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),r=n(19);new o.a({el:"#app",render:function(e){return e(r.a)}})},19:function(e,t,n){"use strict";function o(e){n(20)}var r=n(4),s=n(36),i=n(21),a=o,c=i(r.a,s.a,!1,a,null,null);t.a=c.exports},20:function(e,t){},36:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedId,expression:"selectedId"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedId=t.target.multiple?n:n[0]}}},e._l(e.ports,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])}))]),e._v(" "),n("svg",{attrs:{width:"300",height:"300"}},[n("polygon",{attrs:{points:e.points}}),e._v(" "),e._l(e.cofLabels,function(t,o){return n("g",{key:o,attrs:{transform:"translate("+t.x+","+t.y+")"}},[t.use?n("circle",{staticClass:"use-tone",attrs:{cx:"0",cy:"0",r:"20"}}):e._e(),e._v(" "),n("text",{class:{root:t.root},attrs:{"alignment-baseline":"middle","text-anchor":"middle"}},[e._v(e._s(t.name))])])})],2),e._v(" "),n("div",[e._v("Chord: "+e._s(e.chords))]),e._v(" "),n("div",[e._v(e._s(e.notenames))]),e._v(" "),n("div",[e._v(e._s(e.cof))])])},r=[],s={render:o,staticRenderFns:r};t.a=s},4:function(e,t,n){"use strict";function o(e,t,n){var o=.8*-e,r=2*Math.PI/n*t,s=Math.cos(r),i=Math.sin(r);return{x:0*s-o*i+150,y:0*i+o*s+150}}var r,s,i=n(22),a=n(25),c=n(27),u=[{cof:0,pos:0,name:"C"},{cof:7,pos:.5,name:"Db"},{cof:2,pos:1,name:"D"},{cof:9,pos:1.5,name:"Eb"},{cof:4,pos:2,name:"E"},{cof:11,pos:3,name:"F"},{cof:6,pos:3.5,name:"Gb"},{cof:1,pos:4,name:"G"},{cof:8,pos:4.5,name:"Ab"},{cof:3,pos:5,name:"A"},{cof:10,pos:5.5,name:"Bb"},{cof:5,pos:6,name:"B"}];t.a={name:"app",data:function(){return{ports:[],selectedId:"",notes:[],stats:[0,4,5]}},computed:{points:function(){return this.cof.map(function(e,t){var n=o(100,e,12);return n.x+","+n.y}).join(" ")},notenames:function(){return this.notes.map(function(e){return u[e%12].name})},lowestNote:function(){return this.notes.slice().sort(function(e,t){return e-t})[0]},lowestNoteName:function(){return this.lowestNote?u[this.lowestNote%12].name:""},cof:function(){return 0===this.notes.length?[]:a.uniq(this.notes.map(function(e){return u[e%12].cof})).slice().sort(function(e,t){return e-t})},chords:function(){return i.infer(this.notenames.map(c.note)).map(i.name).map(function(e){return e.replace(/undefined/,"?")})},cofLabels:function(){var e=this;return u.slice().sort(function(e,t){return e.cof-t.cof}).map(function(t,n){var r=o(120,n,12);return{name:t.name,x:r.x,y:r.y,use:e.notenames.find(function(e){return e===t.name}),root:e.lowestNoteName===t.name}})}},watch:{selectedId:function(e,t){var n=this.ports.find(function(e){return e.id===t});n&&n.removeEventListener("midimessage",s);var o=this.ports.find(function(t){return t.id===e});o&&o.addEventListener("midimessage",s)}},mounted:function(){var e=this;r=new WebAudioTinySynth({quality:0,useReverb:0,voices:32}),navigator.requestMIDIAccess().then(function(t){var n=!0,o=!1,r=void 0;try{for(var s,i=t.inputs.values()[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var a=s.value;e.ports.push(a)}}catch(e){o=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw r}}e.selectedId=e.ports[0].id}),s=function(t){var n=t.data;144===n[0]&&e.notes.push(n[1]),128===n[0]&&(e.notes=e.notes.filter(function(e){return e!==n[1]})),r.send(t.data)}}}}},[11]);
//# sourceMappingURL=client.545d8d40.js.map