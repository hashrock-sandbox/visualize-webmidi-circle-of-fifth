{"version":3,"sources":["webpack:///client.545d8d40.js","webpack:///./src/polyfills.js","webpack:///./src/index.js","webpack:///./src/components/App.vue?245c","webpack:///./src/components/App.vue?54cc","webpack:///src/components/App.vue"],"names":["webpackJsonp","11","module","exports","__webpack_require__","12","window","Promise","Object","assign","17","__webpack_exports__","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__components_App_vue__","el","render","h","19","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_babelrc_true_cacheDirectory_true_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2c4a6a1c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","20","36","_vm","this","_h","$createElement","_c","_self","attrs","id","directives","name","rawName","expression","on","change","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","_value","selectedId","multiple","_l","port","key","domProps","_v","_s","width","height","points","label","idx","transform","x","y","staticClass","cx","cy","r","_e","class","root","alignment-baseline","text-anchor","chords","notenames","cof","staticRenderFns","esExports","4","valueToPoint","index","total","angle","Math","PI","cos","sin","synth","MidiIn","piu","_","teoria","dict","pos","data","ports","notes","stats","computed","stat","i","point","join","lowestNote","slice","sort","a","b","lowestNoteName","length","uniq","infer","note","n","replace","cofLabels","_this","p","use","find","watch","val","old","oldPort","removeEventListener","newPort","addEventListener","mounted","_this2","WebAudioTinySynth","quality","useReverb","voices","navigator","requestMIDIAccess","then","midiAccess","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","inputs","values","Symbol","iterator","next","done","input","push","err","return","e","d","send"],"mappings":"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","file":"client.545d8d40.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 11:\n/*!***********************************************!*\\\n  !*** multi ./src/polyfills.js ./src/index.js ***!\n  \\***********************************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(/*! T:\\home\\idea\\webmidi-vis\\src\\polyfills.js */12);\nmodule.exports = __webpack_require__(/*! T:\\home\\idea\\webmidi-vis\\src\\index.js */17);\n\n\n/***/ }),\n\n/***/ 12:\n/*!**************************!*\\\n  !*** ./src/polyfills.js ***!\n  \\**************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\nif (!window.Promise) {\n  window.Promise = __webpack_require__(/*! promise-polyfill */ 13);\n}\n\nObject.assign = __webpack_require__(/*! object-assign */ 16);\n\n/***/ }),\n\n/***/ 17:\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! no exports provided */\n/*! all exports used */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(/*! vue */ 18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_App_vue__ = __webpack_require__(/*! ./components/App.vue */ 19);\n\n\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__components_App_vue__[\"a\" /* default */]);\n  }\n});\n\n/***/ }),\n\n/***/ 19:\n/*!********************************!*\\\n  !*** ./src/components/App.vue ***!\n  \\********************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_babelrc_true_cacheDirectory_true_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(/*! !babel-loader?{\"babelrc\":true,\"cacheDirectory\":true}!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue */ 4);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2c4a6a1c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(/*! !../../node_modules/vue-loader/lib/template-compiler/index?{\"id\":\"data-v-2c4a6a1c\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue */ 36);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(/*! !../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!vue-style-loader!css-loader?{\"autoprefixer\":false,\"sourceMap\":true,\"minimize\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\"vue\":true,\"id\":\"data-v-2c4a6a1c\",\"scoped\":false,\"hasInlineConfig\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue */ 20)\n}\nvar normalizeComponent = __webpack_require__(/*! ../../node_modules/vue-loader/lib/component-normalizer */ 21)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_babelrc_true_cacheDirectory_true_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2c4a6a1c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 20:\n/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"autoprefixer\":false,\"sourceMap\":true,\"minimize\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2c4a6a1c\",\"scoped\":false,\"hasInlineConfig\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/App.vue ***!\n  \\**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 36:\n/*!*********************************************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2c4a6a1c\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/App.vue ***!\n  \\*********************************************************************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedId),expression:\"selectedId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.ports),function(port){return _c('option',{key:port.id,domProps:{\"value\":port.id}},[_vm._v(_vm._s(port.name))])}))]),_vm._v(\" \"),_c('svg',{attrs:{\"width\":\"300\",\"height\":\"300\"}},[_c('polygon',{attrs:{\"points\":_vm.points}}),_vm._v(\" \"),_vm._l((_vm.cofLabels),function(label,idx){return _c('g',{key:idx,attrs:{\"transform\":'translate('+ label.x + ','+label.y+')'}},[(label.use)?_c('circle',{staticClass:\"use-tone\",attrs:{\"cx\":\"0\",\"cy\":\"0\",\"r\":\"20\"}}):_vm._e(),_vm._v(\" \"),_c('text',{class:{'root': label.root},attrs:{\"alignment-baseline\":\"middle\",\"text-anchor\":\"middle\"}},[_vm._v(_vm._s(label.name))])])})],2),_vm._v(\" \"),_c('div',[_vm._v(\"Chord: \"+_vm._s(_vm.chords))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.notenames))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.cof))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 4:\n/*!*********************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/babel-loader/lib?{\"babelrc\":true,\"cacheDirectory\":true}!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/App.vue ***!\n  \\*********************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar piu = __webpack_require__(/*! piu */ 22);\nvar _ = __webpack_require__(/*! lodash */ 25);\nvar teoria = __webpack_require__(/*! teoria */ 27);\nvar synth;\nvar MidiIn;\nvar dict = [{ cof: 0, pos: 0, name: \"C\" }, { cof: 7, pos: 0.5, name: \"Db\" }, { cof: 2, pos: 1, name: \"D\" }, { cof: 9, pos: 1.5, name: \"Eb\" }, { cof: 4, pos: 2, name: \"E\" }, { cof: 11, pos: 3, name: \"F\" }, { cof: 6, pos: 3.5, name: \"Gb\" }, { cof: 1, pos: 4, name: \"G\" }, { cof: 8, pos: 4.5, name: \"Ab\" }, { cof: 3, pos: 5, name: \"A\" }, { cof: 10, pos: 5.5, name: \"Bb\" }, { cof: 5, pos: 6, name: \"B\" }];\nfunction valueToPoint(value, index, total) {\n  var x = 0;\n  var y = -value * 0.8;\n  var angle = Math.PI * 2 / total * index;\n  var cos = Math.cos(angle);\n  var sin = Math.sin(angle);\n  var tx = x * cos - y * sin + 150;\n  var ty = x * sin + y * cos + 150;\n  return {\n    x: tx,\n    y: ty\n  };\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: \"app\",\n  data: function data() {\n    return {\n      ports: [],\n      selectedId: \"\",\n      notes: [],\n      stats: [0, 4, 5]\n    };\n  },\n\n  computed: {\n    points: function points() {\n      return this.cof.map(function (stat, i) {\n        var point = valueToPoint(100, stat, 12);\n        return point.x + \",\" + point.y;\n      }).join(\" \");\n    },\n    notenames: function notenames() {\n      return this.notes.map(function (i) {\n        return dict[i % 12].name;\n      });\n    },\n    lowestNote: function lowestNote() {\n      return this.notes.slice().sort(function (a, b) {\n        return a - b;\n      })[0];\n    },\n    lowestNoteName: function lowestNoteName() {\n      if (this.lowestNote) {\n        return dict[this.lowestNote % 12].name;\n      }\n      return \"\";\n    },\n    cof: function cof() {\n      if (this.notes.length === 0) {\n        return [];\n      }\n      return _.uniq(this.notes.map(function (i) {\n        return dict[i % 12].cof;\n      })).slice().sort(function (a, b) {\n        return a - b;\n      });\n    },\n    chords: function chords() {\n      return piu.infer(this.notenames.map(teoria.note)).map(piu.name).map(function (n) {\n        return n.replace(/undefined/, \"?\");\n      });\n    },\n    cofLabels: function cofLabels() {\n      var _this = this;\n\n      return dict.slice().sort(function (a, b) {\n        return a.cof - b.cof;\n      }).map(function (a, i) {\n        var p = valueToPoint(120, i, 12);\n        return {\n          name: a.name,\n          x: p.x,\n          y: p.y,\n          use: _this.notenames.find(function (i) {\n            return i === a.name;\n          }),\n          root: _this.lowestNoteName === a.name\n        };\n      });\n    }\n  },\n  watch: {\n    selectedId: function selectedId(val, old) {\n      var oldPort = this.ports.find(function (i) {\n        return i.id === old;\n      });\n      if (oldPort) {\n        oldPort.removeEventListener(\"midimessage\", MidiIn);\n      }\n      var newPort = this.ports.find(function (i) {\n        return i.id === val;\n      });\n      if (newPort) {\n        newPort.addEventListener(\"midimessage\", MidiIn);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    synth = new WebAudioTinySynth({ quality: 0, useReverb: 0, voices: 32 });\n    navigator.requestMIDIAccess().then(function (midiAccess) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = midiAccess.inputs.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var input = _step.value;\n\n          _this2.ports.push(input);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      _this2.selectedId = _this2.ports[0].id;\n    });\n\n    MidiIn = function MidiIn(e) {\n      var d = e.data;\n      if (d[0] === 144) {\n        _this2.notes.push(d[1]);\n      }\n      if (d[0] === 128) {\n        _this2.notes = _this2.notes.filter(function (n) {\n          return n !== d[1];\n        });\n      }\n      synth.send(e.data);\n    };\n  }\n});\n\n/***/ })\n\n},[11]);\n\n\n// WEBPACK FOOTER //\n// client.545d8d40.js","if (!window.Promise) {\n  window.Promise = require('promise-polyfill')\n}\n\nObject.assign = require('object-assign')\n\n\n\n// WEBPACK FOOTER //\n// ./src/polyfills.js","import Vue from 'vue'\nimport App from './components/App.vue'\n\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2c4a6a1c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"babelrc\\\":true,\\\"cacheDirectory\\\":true}!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"babelrc\\\":true,\\\"cacheDirectory\\\":true}!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2c4a6a1c\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/App.vue\n// module id = 19\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedId),expression:\"selectedId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.ports),function(port){return _c('option',{key:port.id,domProps:{\"value\":port.id}},[_vm._v(_vm._s(port.name))])}))]),_vm._v(\" \"),_c('svg',{attrs:{\"width\":\"300\",\"height\":\"300\"}},[_c('polygon',{attrs:{\"points\":_vm.points}}),_vm._v(\" \"),_vm._l((_vm.cofLabels),function(label,idx){return _c('g',{key:idx,attrs:{\"transform\":'translate('+ label.x + ','+label.y+')'}},[(label.use)?_c('circle',{staticClass:\"use-tone\",attrs:{\"cx\":\"0\",\"cy\":\"0\",\"r\":\"20\"}}):_vm._e(),_vm._v(\" \"),_c('text',{class:{'root': label.root},attrs:{\"alignment-baseline\":\"middle\",\"text-anchor\":\"middle\"}},[_vm._v(_vm._s(label.name))])])})],2),_vm._v(\" \"),_c('div',[_vm._v(\"Chord: \"+_vm._s(_vm.chords))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.notenames))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.cof))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2c4a6a1c\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/App.vue\n// module id = 36\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <div>\n    <select v-model=\"selectedId\">\n      <option v-for=\"port in ports\" :key=\"port.id\" :value=\"port.id\">{{port.name}}</option>\n    </select>\n\n    </div>\n\n    <svg width=300 height=300>\n      <polygon :points=\"points\"></polygon>\n      <g v-for=\"(label, idx) in cofLabels\" :key=\"idx\" :transform=\"'translate('+ label.x + ','+label.y+')'\">\n        <circle v-if=\"label.use\" cx=0 cy=0 r=20 class=\"use-tone\"></circle>\n        <text alignment-baseline=\"middle\" text-anchor=\"middle\" :class=\"{'root': label.root}\">{{label.name}}</text>\n      </g>\n    </svg>\n\n    <div>Chord: {{chords}}</div>\n    <div>{{notenames}}</div>\n    <div>{{cof}}</div>\n  </div>\n</template>\n\n<script>\nvar piu = require(\"piu\");\nvar _ = require(\"lodash\");\nvar teoria = require(\"teoria\");\nvar synth;\nvar MidiIn;\nvar dict = [\n  { cof: 0, pos: 0, name: \"C\" },\n  { cof: 7, pos: 0.5, name: \"Db\" },\n  { cof: 2, pos: 1, name: \"D\" },\n  { cof: 9, pos: 1.5, name: \"Eb\" },\n  { cof: 4, pos: 2, name: \"E\" },\n  { cof: 11, pos: 3, name: \"F\" },\n  { cof: 6, pos: 3.5, name: \"Gb\" },\n  { cof: 1, pos: 4, name: \"G\" },\n  { cof: 8, pos: 4.5, name: \"Ab\" },\n  { cof: 3, pos: 5, name: \"A\" },\n  { cof: 10, pos: 5.5, name: \"Bb\" },\n  { cof: 5, pos: 6, name: \"B\" }\n];\nfunction valueToPoint(value, index, total) {\n  var x = 0;\n  var y = -value * 0.8;\n  var angle = Math.PI * 2 / total * index;\n  var cos = Math.cos(angle);\n  var sin = Math.sin(angle);\n  var tx = x * cos - y * sin + 150;\n  var ty = x * sin + y * cos + 150;\n  return {\n    x: tx,\n    y: ty\n  };\n}\n\nexport default {\n  name: \"app\",\n  data() {\n    return {\n      ports: [],\n      selectedId: \"\",\n      notes: [],\n      stats: [0, 4, 5]\n    };\n  },\n  computed: {\n    points() {\n      return this.cof\n        .map((stat, i) => {\n          var point = valueToPoint(100, stat, 12);\n          return point.x + \",\" + point.y;\n        })\n        .join(\" \");\n    },\n    notenames() {\n      return this.notes.map(i => {\n        return dict[i % 12].name;\n      });\n    },\n    lowestNote() {\n      return this.notes.slice().sort((a, b) => a - b)[0];\n    },\n    lowestNoteName() {\n      if (this.lowestNote) {\n        return dict[this.lowestNote % 12].name;\n      }\n      return \"\";\n    },\n    cof() {\n      if (this.notes.length === 0) {\n        return [];\n      }\n      return _.uniq(this.notes.map(i => dict[i % 12].cof))\n        .slice()\n        .sort((a, b) => a - b);\n    },\n    chords() {\n      return piu\n        .infer(this.notenames.map(teoria.note))\n        .map(piu.name)\n        .map(n => n.replace(/undefined/, \"?\"));\n    },\n    cofLabels() {\n      return dict\n        .slice()\n        .sort((a, b) => a.cof - b.cof)\n        .map((a, i) => {\n          const p = valueToPoint(120, i, 12);\n          return {\n            name: a.name,\n            x: p.x,\n            y: p.y,\n            use: this.notenames.find(i => i === a.name),\n            root: this.lowestNoteName === a.name\n          };\n        });\n    }\n  },\n  watch: {\n    selectedId(val, old) {\n      const oldPort = this.ports.find(i => i.id === old);\n      if (oldPort) {\n        oldPort.removeEventListener(\"midimessage\", MidiIn);\n      }\n      const newPort = this.ports.find(i => i.id === val);\n      if (newPort) {\n        newPort.addEventListener(\"midimessage\", MidiIn);\n      }\n    }\n  },\n  mounted() {\n    synth = new WebAudioTinySynth({ quality: 0, useReverb: 0, voices: 32 });\n    navigator.requestMIDIAccess().then(midiAccess => {\n      for (let input of midiAccess.inputs.values()) {\n        this.ports.push(input);\n      }\n      this.selectedId = this.ports[0].id;\n    });\n\n    MidiIn = e => {\n      var d = e.data;\n      if (d[0] === 144) {\n        this.notes.push(d[1]);\n      }\n      if (d[0] === 128) {\n        this.notes = this.notes.filter(n => n !== d[1]);\n      }\n      synth.send(e.data);\n    };\n  }\n};\n</script>\n<style>\nbody {\n  background: #eee;\n}\nsvg {\n  background: white;\n}\npolygon {\n  fill: #42b983;\n  opacity: 0.75;\n}\n.use-tone {\n  fill: #42b983;\n  opacity: 0.2;\n}\n.root {\n  font-weight: 900;\n  font-size: 1.5rem;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/App.vue"],"sourceRoot":""}